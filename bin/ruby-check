#!/usr/bin/env bash

export COLUMNS=90

[[ -x bin/deps ]] && source bin/deps
[[ ! -f .rubocop.yml && -x bin/setup ]] && source bin/setup

find . -type d -name coverage -exec rm -rf {} \;

info "Running Rubocop, please wait..."
code=0
run::set-next show-output-on
run "rubocop -C true -F -D 1>&1 >/dev/null || rubocop -a"

run::set-next abort-on-error
run "rubocop -E -P"

success "Your Ruby style is great!"

